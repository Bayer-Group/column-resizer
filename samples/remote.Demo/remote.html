<!DOCTYPE html>
<html lang="en">
<head>
  <title>colResizable demo</title>  

  <link rel="stylesheet" type="text/css" href="css/main.css" />  
  <style>
    .scroll{
        overflow-x:scroll;
        max-width:100%;
        position:relative;
    }
  </style>
    <script  src="../../dist/column-resizer.js"></script>
    <script type="text/javascript">
      window.onload = function() {
        var colResizable = ColumnResizer.default;
          var innerHTML = document.querySelector("#updatePanel").innerHTML;

          var onTablesCreated = function() {
              var normal = document.querySelector("#normal");
              var normalRemote = document.querySelector("#normal-remote");

              new colResizable(normal, {
                  liveDrag:true,
                  gripInnerHtml:"<div class='grip'></div>",
                  draggingClass:"dragging",
                  resizeMode:'fit',
                  remoteTable: normalRemote,
                  partialRefresh:true
              });
          };
          var fakePostback = function() {
              var updatePanel = document.querySelector("#updatePanel");
              updatePanel.innerHTML = ('<img src="img/loading.gif"/>');
              setTimeout(function(){
                  updatePanel.innerHTML = (innerHTML);
                  onPostbackOver();
              }, 700);
          };
          var onPostbackOver = function(){
              onTablesCreated();
          };

          document.querySelector("#postback").addEventListener('click', fakePostback);
          onPostbackOver();
      };
  </script>
  
</head>
<body>
	<div class="center" >
	
        <h3>Click on 'Partial refresh' to simulate a postback</h3>		
		<button id="postback">Partial refresh</button >
				
		<div id="updatePanel">

            <br/>

            <p><strong>resizeMode: 'fit'</strong> table width adapts to the container width. Columns resize using their neighbour's width</p>
            <table id="normal" width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <th>header</th><th style="display: none;">header</th><th>header</th><th>header</th>
                </tr>
                <tr>
                    <td class="left">cell</td><td style="display: none;">dummy</td><td>cell</td><td class="right">cell</td>
                </tr>
                <tr>
                    <td class="left">cell</td><td style="display: none;">dummy</td><td>cell</td><td class="right">cell</td>
                </tr>
                <tr>
                    <td class="left bottom">cell</td><td style="display: none;" class="bottom">dummy</td><td class="bottom">cell</td><td class="bottom right">cell</td>
                </tr>
            </table>

            <br/>

            <p><strong>resizeMode: 'fit'</strong> Spacer table</p>
            <table id="normal-dummy" width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <th>header</th><th>header</th><th>header</th>
                </tr>
                <tr>
                    <td class="left">cell</td><td>cell</td><td class="right">cell</td>
                </tr>
                <tr>
                    <td class="left">cell</td><td>cell</td><td class="right">cell</td>
                </tr>
                <tr>
                    <td class="left bottom">cell</td><td class="bottom">cell</td><td class="bottom right">cell</td>
                </tr>
            </table>

            <br/>

            <p><strong>resizeMode: 'fit'</strong> Remote table</p>
            <table id="normal-remote" width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <th>header</th><th style="display: none;">header</th><th>header</th><th>header</th>
                </tr>
                <tr>
                    <td class="left">cell</td><td style="display: none;">dummy</td><td>cell</td><td class="right">cell</td>
                </tr>
                <tr>
                    <td class="left">cell</td><td style="display: none;">dummy</td><td>cell</td><td class="right">cell</td>
                </tr>
                <tr>
                    <td class="left bottom">cell</td><td style="display: none;" class="bottom">dummy</td><td class="bottom">cell</td><td class="bottom right">cell</td>
                </tr>
            </table>

            <br/>

		</div>
		
		<br/>

		<br/><br/>

	</div>
		
 </body>
 </html>
